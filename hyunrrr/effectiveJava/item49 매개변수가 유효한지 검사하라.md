# 이펙티브 자바
아이템49. 매개변수가 유효한지 검사하라(p298-301)

## 메서드 몸체가 실행되기 전에 매개변수를 확인하자
그렇지 않으면,
- 메서드가 수행되는 중간에 모호한 예외를 던지며 실패할 수 있음
- 메서드가 잘 수행되지만 잘못된 결과를 반환
- 메서드는 문제없이 수행됐지만, 어떤 객체를 이상한 상태로 만들어 놓아 미래에 오류가 생기게 함

## public과 protected 메서드는 매개변수 값이 잘못됐을 때 던지는 예외를 문서화해야 한다.
- 매개변수의 제약을 문서화한다면 그 제약을 어겼을 때 발생하는 예외도 함께 기술해야 한다.


## 자바에서 제공하는 메서드를 이용할 수도 있음
- Objects.requireNonNull
- Objects.checkFromIndexSize
- Objects.checkFromToIndex
- Objects.checkIndex

## 공개되지 않은 메서드(public이 아닌)라면 assert를 사용해 매개변수 유효성을 검증할 수 있음
### assert와 일반적인 유효성 검사의 차이
- 실패하면 AssertionError를 던짐
- 런타임에 아무런 효과도, 성능저하도 없음(java실행시 명령줄에 특정 플래그 설정하는게 아니면)

## 예외
- 유효성 검사 비용이 지나치게 높거나 실용적이지 않음
- 메서드 내 계산과정에서 암묵적으로 검사가 수행됨
<br>(하지만 암묵적 유효성 검사에 너무 의존했다가 "실패 원자성"을 해칠 수 있으니 주의해야함)
<br>(계산과정에서 발생한 예외와 api문서에서 던지기로 한 예외가 다를 수 있음, 이땐 "예외 번역(아이템 73)"을 사용)


## 핵심 정리
매서드나 생성자를 작성할 때면 그 매개변수들에 어떤 제약이 있을지 생각해야 한다. 그 제약들을 문서화하고 메서드 코드 시작 부분에서 명시적으로 검사해야 한다.
이런 습관을 반드시 기르도록 하자. 그 노력은 유효성 검사가 실제 오류를 처음 걸러낼 때 충분히 보상받을 것이다.