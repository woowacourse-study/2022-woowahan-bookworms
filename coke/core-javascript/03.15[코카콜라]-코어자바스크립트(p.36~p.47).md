## 코어자바스크립트(p.36~p.47)

- 실행 컨텍스트

---

# 배운 점(Facts)

## 실행 컨텍스트

- 실행할 코드에 제공할 환경 정보들을 모아놓은 객체
- 콜 스택 구조로 함수를 실행한다.
- 실행 컨텍스트가 콜 스택의 맨 위에 쌓이는 순간이 현재 실행할 코드에 관여하게 되는 시점이다.
- 실행 컨텍스트가 활성화 될 떄 마다 JS엔진은 해당 컨텍스트에 관련된 코드들을 실행하는데 필요한 환경 정보들을 수집해서 실행 컨텍스트 객체에 저장한다.
- 컨텍스트 객체에 담기는 정보는 다음과 같다.
  - VariableEnvironment: 현재 컨텍스트 내의 식별자들에 대한 정보 + 외부 환경 정보. 선언 시점의 LexicalEnvironment의 스냅샷으로 변경사항은 반영되지 않음.
  - LexicalEnvironment: 처음에는 VariableEnvironment와 같지만 변경 사항이 실시간으로 반영됨
  - ThisBinding: this 식별자가 바라봐야 할 대상 객체.

## VariableEnvironment

- 최초 실행 실행 시의 스냅샷을 유지한다.
- 실행 컨텍스트를 생성 할 때 VariableEnvironment에 정보를 담고 이를 복사해서 LexicalEnvironment를 만들어서 이후에 LexicalEnvironment를 주로 사용한다.

## LexicalEnvironment

- 사전적인 환경
- 컨텍스트를 구성한는 환경 정보들을 사전에서 접하는 느낌으로 모아놓은 것.

## environmentRecord

- 현재 컨텍스트와 관련된 코드의 식별자 정보들을 저장한다.
- 컨텍스트 내부 전체를 처음부터 끝까지 순서대로 수집한다.

## 호이스팅

- 끌어올린다!
- 변수들을 호이스팅 할 경우 변수명만 끌어 올리고 할당과정은 원래 자리에 남겨둔다.

```javascript
function a() {
  console.log(b);
  var b = "bbb";
  console.log(b);
  function b() {}
  console.log(b);
}
a();

/** 출력
 * b(){}
 * bbb
 * bbb
 */
```

---

# 회고(Feelings)

- 여기 부분은 어느정도 알고 있는데 말로 설명 하라고 하면 못 할듯 싶다. 실행 컨텍스트는 몇번 더 봐야 겠다.
