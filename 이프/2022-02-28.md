## 객체지향의 사실과 오해
2장 이상한 나라의 객체 (p.39 ~ p.52)


### 객체 지향과 인지 능력

엘리자베스와 필립 켈만의 실험[Pinker 1997]은 인간이 `객체를 식별하고 분류할 수 있는 인지 능력`  
을 선천적으로 지니고 태어났음을 증명한다.

인간은 물리적인 실체가 존재하지 않는, 개념적으로 경계 지을 수 있는 추상적인 사물까지도 쉽게  
구분하고 하나의 단위로 인지할 수 있다. `주문`과 `계좌 이체`가 추상적인 객체의 일종이다.

이렇듯 객체 지향의 패러다임은 `인간의 기본적인 인지 능력`으로부터  
`소프트웨어의 세계 역시 인간이 인지할 수 있는 다양한 소프트웨어 객체들이 모여 이뤄져 있다는 믿음`에서 비롯되었다.

물론 소프트웨어 세계에서 살아가는 객체는 현실 세계에 존재하는 객체와는 전혀 다른 모습을 보이는 것이 일반적이다.  
때문에 `객체 지향 패러다임의 목적`은 현실 세계를 모방하는 것이 아니라 현실 세계를 기반으로 `새로운 세계를 창조하는 것`이다.

> 객체의 다양한 특성을 효과적으로 설명하기 위해서는 객체를  
> `상태(state)`, `행동(behavior)`, `식별자(identity)`를 지닌 실체로 보는 것이 가장 효과적이다.[Booch 2007]

<br>

### 상태를 결정하는 것은 행동이지만, 행동의 결과를 결정하는 것은 상태이다.

행동은 객체의 상태를 변화 시키지만 기존에 객체가 지녔던 상태로부터 변화 시키기 때문에,  
행동의 결과는 객체의 상태에 `의존적`이게 된다.

이는 행동의 결과가 이전에 행해졌던 행동들의 영향을 받음을 의미한다.

가령 `10000원`으로 8000원의 선물을 사는 행위와 7000원의 냉면을 먹는 행위를 행하고자 했을 때,  
`10000원`으로 선물을 먼저 사면 보유 금액은 `2000원`이 되어 냉면을 먹지 못하게 된다.

앞서 행한 행동으로 인해 객체의 상태가 변했고, 이로 인해 뒤따르는 행동에 영향을 주게 된 것이다.

상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 현재를 기반으로  
행동의 결과를 쉽게 예측하고 설명할 수 있다. 위의 예시에서 냉면을 먹는 행위는  
선물을 샀다는 행위를 기억하기보단 객체의 상태 2000원을 통해 현재를 바라봤다고 볼 수 있다.

<br>

### 상태가 지닌 특징

- 객체는 상태를 가지며, 상태는 변경 가능하다.
- 객체의 상태를 변경 시키는 것은 객체의 행동이다.
- 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
- 행동의 순서가 결과에 영향을 미친다.
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

<br>

### 객체의 상태는 프로퍼티이다.

객체의 상태는 단순한 값과 객체의 조합으로 표현할 수 있으며,  
이때 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 `프로퍼티(property)`라고 한다.

아래의 예시(1)에 따르면 `name` 값과 `Review` 객체가 User 객체의 `프로퍼티`에 해당한다.

```java
// 예시(1)
class User {
    private String name; // 사용자 이름
    private Review review; // 사용자가 작성한 리뷰


    private void editReivewContent(final String content) {
        review.editContent(content);
    }
}

class Review {
    private String content; // 리뷰 내용
    private boolean hidden; // 비밀글 여부


    private void editContent(final String content) {
        this.content = content;
    }
}   
```

<br>

### 객체는 스스로 자신의 상태에 책임을 져야 한다.

객체는 `자율적인 존재`이다. 따라서 객체 지향 관점으로 봤을 때  
객체는 다른 객체의 상태에 직접적으로 접근할 수도, 상태를 변경할 수도 없다.  
객체가 다른 객체로 하여금 상태를 변경하도록 하기 위해서는 `해당 객체가 지닌 행동을 통해 간접적으로 행해야 한다.`

아래의 예시(2)에서는 User가 Review의 content 상태를 직접 변경하고 있지만  
위의 예시(1)에서는 User가 Reivew의 editContent 메서드를 호출함으로써  
Review로 하여금 content 상태를 변경하도록 행위를 위임하고 있다.

**이를 통해 Review 객체는 스스로 자신의 상태에 책임을 가질 수 있게 된다.**

```java
// 예시(2)
class User {
    String name; // 사용자 이름
    Review review; // 사용자가 작성한 리뷰

    void editReivewContent(final String content) {
        review.content = content;
    }
}

class Review {
    String content; // 리뷰 내용
    boolean hidden; // 비밀글 여부
}   
```