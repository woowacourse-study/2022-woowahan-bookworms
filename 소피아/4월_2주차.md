# 04.04 독서 인증

## 클린 코드 (p.158~168)

### 9장. 단위 테스트

- 테스트 코드에는 가독성이 가장 중요하다. 가독성을 위해서는 명료성, 단순성, 풍부한 표현력이 필요하다. 중복되는 코드를 개선하고 잡다하고 세세한 코드는 거의 다 없앤다. 그러면 독사는 코드가 수행하는 기능을 빠르게 이해할 수 있게 된다.
- Build-Operate-Check 패턴
  테스트를 1. 테스트 자료를 만드는 부분, 2. 테스트 자료를 조작하는 부분, 3. 조작한 결과가 올바른지 확인하는 부분 세 부분으로 명확히 나누어 작성한다.
- 개념 당 assert 문 수는 최소로 줄여라. 그리고 테스트 케이스 하나는 개념 하나만 테스트 하라.

#### F.I.R.S.T

- **F :: Fast 빠르게**
  테스트는 빨리 돌아야 한다. 테스트가 느리면 자주 돌릴 엄두가 안 나고, 자주 돌리지 않으면 초반에 문제를 찾아내 고치지 못한다. 결국 코드 품질은 망가진다.

- **I :: Independent 독립적으로**
  각 테스트는 서로 의존하지 않는다. 각 테스트는 독립적으로 그리고 어떤 순서로 실행해도 괜찮아야 한다. 테스트가 서로 의존하면, 하나가 실패했을 때 다른 테스트도 따라 실패하므로 원인을 찾기 어려워진다. 결국 다른 테스트에 의존하는 테스트는 결함이다.

- **R :: Repeatable 반복가능하게**
  테스트는 어떤 환경(실제 환경, QA 환경, 네트워크가 연결되지 않은 환경...)에서도 반복 가능해야 한다. 테스트가 돌아가지 않는 환경이 있다면, 테스트가 실패한 이유를 둘러댈 변명이 생긴다. 게다가 환경이 지원되지 않아 테스트를 수행하지 못하는 상황에 직면한다.

- **S :: Self-Validating 자가검증하는**
  테스트는 bool 값으로 결과를 내야 한다. 테스트가 스스로 성공과 실패를 가늠해야 한다. 그렇지 않다면, 판단은 주관적이 되며 수작업 평가가 필요하게 된다.

- **T :: Timely 적시에**
  단위 테스트는 테스트 하려는 실제 코드를 구현하기 직전에 구현한다. 실제 코드 구현 후 테스트 코드를 만들면, 테스트 하기 어렵다는 사실을 발견하게 될 수 있다. 테스트가 불가능하도록 실제 코드를 설계하기 전에, 테스트를 먼저 구현하라.

# 04.05 독서 인증

## 클린 코드 (p.172~185)

### 10장. 클래스

- 꼭 캡슐화를 지키고 내부를 숨겨야 한다는 법칙은 없다. 그러나 캡슐화를 풀어주는 것은 언제나 비공개 상태를 유지할 방법을 강구한 끝에 사용하는 최후의 수단이다.
- 클래스는 작아야 한다. 클래스의 크기는 클래스가 맡은 책임으로 측정한다. 메서드가 수가 작아도 책임은 많을 수 있으니 오해하지 말자. 클래스에 간결한 이름이 떠오르지 않거나, 이름이 모호하거나, 혹은 클래스를 설명하는데 if, and, or, but을 사용하고 길어진다면 클래스의 책임을 점검해볼 필요가 있다.
- 클래스의 책임은 단 하나여야 한다. 책임을 파악하려 애쓰면 코드를 추상화하기 쉬워진다. 책임을 분리할 수 있다면 헤당 메서드를 빼내 클리스를 분리한다. 복잡성을 다루려면 체계적인 정리는 필수다. 그래야 무엇이 어디에 있는지 쉽게 찾을 수 있고 쉽게 찾을 수 있어야 변경에 영향을 받는 컴포넌트를 이해할 수 있다.
- 메서드가 인스턴스 변수를 많이 사용할수록 응집도가 높다. 응집도가 높다는 것은 클래스 내부의 메서드와 변수가 서로 의존하면서 논리적인 단위로 묶인다는 의미다. 응집도가 높은 클래스를 만들어야 한다. 몇몇 함수가 몇몇 변수만 사용한다면? 응집력을 잃었단느 것이고, 이는 곧 클래스를 분리하라는 신호다. 클래스의 응집도가 높아지도록 쪼개야 한다. 응집도를 유지하려고 노력하면 작은 클래스 여럿이 나오고, 점점 더 체계가 잡히고 구조가 투명해진다.
